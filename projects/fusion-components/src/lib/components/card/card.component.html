<div [ngClass]="containerCssClasses">

  <!-- START: Title -->
  <div class="f-card__title f-card__title--{{ size }}">

    <!-- START: Title Text -->
    @if (!!cardTitle) {
      <div class="f-card__title-text">
        <ng-container *ngTemplateOutlet="cardTitle"></ng-container>
      </div>
    } @else {
      @if (title) {
        @if (size === Size.SMALL) {
          <h4 class="f-h4 f-card__title-text">{{ title }}</h4>
        } @else {
          <h3 class="f-h3 f-card__title-text">{{ title }}</h3>
        }
      }
    }
    <!-- END: Title Text -->

    <!-- START: Statuses -->
    @if (!!statuses && !!statuses.length) {
      <div class="f-card__title-statuses">
        @for (status of statuses; track status) {
          @if (!!status && !status.isHidden) {
            <div class="f-card__title-status f-card__title-status--{{ status.status | getStatusLevelText:undefined:true }}">
              @if (!status.isIconHidden) {
                <i
                  aria-hidden="true"
                  class="mdi f-card__title-status-icon f-card__title-status-icon--{{ status.status | getStatusLevelText:undefined:true }}"
            [ngClass]="{
              'mdi-help-circle' : status.status === StatusLevel.UNKNOWN,
              'mdi-circle' : status.status === StatusLevel.BASE || status?.status === StatusLevel.NORMAL,
              'mdi-check-circle' : status.status === StatusLevel.SUCCESS,
              'mdi-alert' : status.status === StatusLevel.WARNING,
              'mdi-alert-circle' : status.status === StatusLevel.ERROR,
              'mdi-close-circle' : status.status === StatusLevel.CRITICAL
            }">
                </i>
              }
              @if (status.count) {
                <div class="f-card__title-status-count">{{ status?.count }}</div>
              }
              @if (!status.isTextHidden) {
                <div class="f-card__title-status-text">
                  @if (!!status.text) {
                    {{ status.text | toObservable | async }}
                  } @else {
                    {{ status.status | getStatusLevelText:translations.statuses }}
                  }
                </div>
              }
            </div>
          }
        }
      </div>
    }
    <!-- END: Statuses-->

  </div>
  <!-- END: title -->

  <!-- START: Content -->
  @if (!!cardContent) {
    <div class="f-card__content">
      <ng-container *ngTemplateOutlet="cardContent"></ng-container>
    </div>
  } @else {
    @if (content) {
      <p class="f-card__content" [ngClass]="size === Size.SMALL ? 'f-p-md' : 'f-p-lg'">{{ content }}</p>
    }
  }
  <!-- END: Content -->

  <!-- START: Details -->
  @if (!!cardDetails || !!details) {
    <div class="f-card__details f-card__details--{{ size }}">
      <button
        class="f-card__details-button f-button__link"
        [ngClass]="isDetailsSectionExpanded ? 'f-card__details-button--expanded' : 'f-card__details-button--collapsed'"
        (click)="toggleDetailsSectionExpansion()">
        <i class="f-card__details-button-icon mdi" [ngClass]="isDetailsSectionExpanded ? 'mdi-chevron-up' : 'mdi-chevron-down'"></i>
        {{ isDetailsSectionExpanded ? translations.hideDetails : translations.showDetails }}
      </button>
      @if (isDetailsSectionExpanded) {
        <div class="f-card__details-content">
          @if (!!cardDetails) {
            <ng-container *ngTemplateOutlet="cardDetails"></ng-container>
          } @else {
            <p [ngClass]="size === Size.SMALL ? 'f-p-md' : 'f-p-lg'">{{ details }}</p>
          }
        </div>
      }
    </div>
  }
  <!-- END: Details -->

  <!-- START: Footer -->
  @if (!!cardFooter) {
    <div class="f-card__footer">
      <ng-container *ngTemplateOutlet="cardFooter"></ng-container>
    </div>
  } @else {
    @if (footer) {
      <p class="f-card__footer" [ngClass]="size === Size.SMALL ? 'f-p-sm' : 'f-p-md'">{{ footer }}</p>
    }
  }
  <!-- END: Footer -->
</div>
