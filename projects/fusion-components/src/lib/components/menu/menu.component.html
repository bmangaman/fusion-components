<div class="f-menu" #fusionUiMenu>

  <div class="f-menu__button" #fusionUiMenuButton>
    <ng-container *ngTemplateOutlet="menuButton"></ng-container>
  </div>

  @if (isMenuDialogOpen) {
    <div
      #fusionUiMenuDialog
      class="f-menu__dialog"
      [ngClass]="menuDialogClasses"
      [attr.aria-labelledby]="aria?.menuDialogLabelledBy"
      [style.zIndex]="dialogZIndex"
      [style.minWidth]="dialogMinWidth">
      @if (menuDialogHeader) {
        <div class="f-menu__dialog--header">
          <ng-container *ngTemplateOutlet="menuDialogHeader"></ng-container>
          <f-button
            [classes]="['f-menu__dialog--close-button']"
            [type]="ButtonType.SECONDARY"
            [size]="Size.X_SMALL"
            [isAutofocused]="isCloseButtonAutofocused"
            [noBorder]="true"
            icon="mdi-close"
            [attr.aria-label]="aria?.closeButtonLabel"
            (buttonClick)="closeMenuDialog()">
          </f-button>
        </div>
      }
      <div class="f-menu__dialog--content" [style.maxHeight]="dialogContentMaxHeight">
        <ng-container *ngTemplateOutlet="menuDialogContent"></ng-container>
      </div>
    </div>
  }

</div>
