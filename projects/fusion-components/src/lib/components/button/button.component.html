<button
  [disabled]="isButtonDisabled"
  [attr.aria-disabled]="isButtonDisabled"
  [attr.aria-label]="aria?.label || ''"
  [attr.aria-haspopup]="!!aria?.haspopup || null"
  [attr.aria-controls]="aria?.controls || ''"
  [attr.aria-expanded]="!!aria?.expanded || null"
  [attr.type]="inputType"
  (click)="buttonClicked()"
  [fusionUiAutofocus]="isAutofocused"
  [ngClass]="buttonClasses">

  @if (state === State.LOADED) {
    <div class="f-button__content" #buttonContent>
      @if (icon) {
        <i
          class="f-button__icon mdi {{ icon }}"
          [attr.aria-hidden]="!!text"
        [attr.aria-label]="aria?.iconAriaLabel || ''"></i>
      }
      @if (text) {
        <span class="f-button__text">{{ text }}</span>
      }
      @if (opensMenu) {
        <i
          class="f-button__icon mdi mdi-chevron-down"
          [attr.aria-hidden]="!!text"
        [attr.aria-label]="aria?.menuIconAriaLabel || ''"></i>
      }
    </div>
  } @else {
    <f-loading-spinner
      [size]="loadingSpinnerSize"
      [opacity]="0.2"
      [minWidth]="contentMinWidth"
      [ariaLabel]="aria?.loadingSpinner || ''">
    </f-loading-spinner>
  }


</button>
